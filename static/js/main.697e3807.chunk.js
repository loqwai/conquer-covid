(this["webpackJsonpconquer-covid"]=this["webpackJsonpconquer-covid"]||[]).push([[0],{11:function(e,n,t){e.exports=t(18)},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(8),i=t.n(a),c=(t(16),t(9)),l=t(20),u=t(21),d=t(22),s=t(1),f=t.n(s),m=function(e){var n,t=e.body;return o.a.createElement("polygon",{points:(n=t.vertices,n.map((function(e){var n=e.x,t=e.y;return"".concat(n,",").concat(t)})).join(" "))})},v=function(e){var n=e.body;return o.a.createElement("circle",{cx:n.position.x,cy:n.position.y,fill:n.render.fillStyle,r:n.circleRadius})},y=function(e){var n=e.engine,t=o.a.useState(0)[1];return o.a.useEffect((function(){var e=!1;return requestAnimationFrame((function n(){e||(t((function(e){return e+1})),requestAnimationFrame(n))})),function(){e=!0}}),[t]),n?o.a.createElement("svg",{viewBox:"0 0 800 600"},n.world.bodies.map((function(e){return e.circleRadius?o.a.createElement(v,{key:e.id,body:e}):o.a.createElement(m,{key:e.id,body:e})}))):null},E=t(10),g=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o.a.useEffect((function(){var t=setInterval(e,n);return function(){return clearInterval(t)}}),[e,n].concat(Object(E.a)(t)))},p=function(e,n){return f.a.Common.random(e,n)},w=function(){return s.Bodies.circle(p(0,800),p(0,600),5,{render:{fillStyle:Math.random()<.02?"red":"green"}})},h=new URL(window.location.href),S=function(){var e=o.a.useState({})[1],n=o.a.useState(void 0),t=Object(c.a)(n,2),r=t[0],a=t[1];return o.a.useEffect((function(){var n=u.a(w,function(){var e=h.searchParams.get("populationSize");if(!e)return 1e3;var n=parseInt(e,10);return isNaN(n)?1e3:n}()),t=n.map((function(e){return{id:e.id,infected:"red"===e.render.fillStyle}}));e(d.a((function(e){return"".concat(e.id)}),t));var r=s.Engine.create();r.world.gravity.y=0,s.World.add(r.world,n),s.World.add(r.world,[s.Bodies.rectangle(400,0,800,10,{isStatic:!0}),s.Bodies.rectangle(400,600,800,10,{isStatic:!0}),s.Bodies.rectangle(800,300,10,600,{isStatic:!0}),s.Bodies.rectangle(0,300,10,600,{isStatic:!0})]),s.Events.on(r,"collisionStart",(function(n){e((function(e){return n.pairs.forEach((function(n){var t=n.bodyA,r=n.bodyB,o=e[t.id],a=e[r.id];l.a(o)||l.a(a)||(o.infected||a.infected)&&(t.render.fillStyle=r.render.fillStyle="red",a.infected=o.infected=!0)})),e}))})),s.Engine.run(r),a(r)}),[e]),g((function(){var e=function(e){if(!l.a(e))return f.a.Common.choose(e)}(null===r||void 0===r?void 0:r.world.bodies);e&&(e.isStatic||s.Body.applyForce(e,{x:p(0,800),y:p(0,600)},{x:p(-1e-4,1e-4),y:p(-1e-4,1e-4)}))}),100,[r]),o.a.createElement("div",{className:"Room"},o.a.createElement(y,{engine:r}))},b=function(){return o.a.createElement("div",{className:"World"},o.a.createElement(S,null),o.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.697e3807.chunk.js.map