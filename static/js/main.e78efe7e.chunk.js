(this["webpackJsonpconquer-covid"]=this["webpackJsonpconquer-covid"]||[]).push([[0],{22:function(e,n,t){e.exports=t(34)},27:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var i=t(3),o=t.n(i),a=t(19),r=t.n(a),c=(t(27),t(39)),s=t(44),l=t(40),u=t(42),d=t(20),h=t(9),f=t(41),p=t(36),m=t(37),g=t(38),v=t(43),w=t(4),y=new h.Chance,E=function(){return{infected:!1,id:Object(v.a)(),position:{x:0,y:0},name:y.name()}},x=function e(n,t){var i=this;Object(d.a)(this,e),this.population=void 0,this.size=void 0,this.engine=void 0,this.addPerson=function(e){var n=i.population,t=i.engine,o=i.size;n[e.id]=e;var a=w.Bodies.circle(y.integer({min:0,max:o.width}),y.integer({min:0,max:o.width}),5,{label:e.id});w.World.add(t.world,a)},this.removePerson=function(e){var n=i.population,t=i.engine;delete n[e];var o=f.a(p.a("label",e),t.world.bodies);o&&w.World.remove(t.world,o)},this.getPeople=function(){return m.a(i.population)},this.start=function(){var e=i.engine,n=i.population;w.Engine.run(e),w.Events.on(e,"afterUpdate",(function(){i.syncPopulationPosition()})),w.Events.on(e,"collisionStart",(function(e){e.pairs.forEach((function(e){var t=e.bodyA,i=e.bodyB,o=n[t.label],a=n[i.label];a&&o&&(o.infected=a.infected=o.infected||a.infected)}))}))},this.introduceEntropy=function(){var e=i.engine,n=i.size,t=y.pickone(e.world.bodies);t&&(t.isStatic||w.Body.applyForce(t,{x:y.integer({min:0,max:n.width}),y:y.integer({min:0,max:n.height})},{x:y.floating({min:-1e-4,max:1e-4}),y:y.floating({min:-1e-4,max:1e-4})}))},this.syncPopulationPosition=function(){var e=i.engine,n=i.population;g.a((function(e){if(e.label){var t=n[e.label];t&&(t.position=e.position)}}),e.world.bodies)},this.setupEngine=function(){var e=i.size,n=w.Engine.create();return n.world.gravity.y=0,w.World.add(n.world,[w.Bodies.rectangle(e.width/2,-500,e.width,1e3,{isStatic:!0}),w.Bodies.rectangle(e.width+500,e.height/2,1e3,e.height,{isStatic:!0}),w.Bodies.rectangle(e.width/2,e.height+500,e.width,1e3,{isStatic:!0}),w.Bodies.rectangle(-500,e.height/2,1e3,e.height,{isStatic:!0})]),n},this.size=t,this.engine=this.setupEngine(),this.population={},g.a(this.addPerson,n),this.start(),n.forEach(this.addPerson)},b=(t(32),t(21)),P=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o.a.useEffect((function(){if(e){var t=setInterval(e,n);return function(){return clearInterval(t)}}}),[e,n].concat(Object(b.a)(t)))},k=(t(33),function(e){var n=e.person;return o.a.createElement(o.a.Fragment,null,o.a.createElement("text",{className:"person-shape-face",x:n.position.x-5,y:n.position.y+5},n.infected?"\ud83e\udd2e":"\ud83d\ude42"),o.a.createElement("text",{className:"person-shape-name",x:n.position.x-5,y:n.position.y+10,lengthAdjust:"spacingAndGlyphs",textLength:"10"},n.name))}),B=function(e){var n=e.population,t=e.size,i=o.a.useState(0)[1];return o.a.useEffect((function(){var e=!1;return requestAnimationFrame((function n(){e||(i((function(e){return e+1})),requestAnimationFrame(n))})),function(){e=!0}}),[i]),n?o.a.createElement("svg",{viewBox:"0 0 ".concat(t.width," ").concat(t.height),style:t},m.a(n).map((function(e){return o.a.createElement(k,{key:e.id,person:e})}))):null},S=new h.Chance,z=function(){var e=c.a(E,100);S.pickone(e).infected=!0;var n=s.a(4,e),t=l.a((function(e){var n=S.integer({min:100,max:400});return new x(e,{height:n,width:n})}),n);return P((function(){var e=S.pickone(t),n=S.pickone(t);if(!u.a(e.getPeople())){var i=S.pickone(e.getPeople());e.removePerson(i.id),n.addPerson(i)}}),100),P((function(){t.forEach((function(e){return e.introduceEntropy()}))}),100),o.a.createElement("div",{className:"World"},t.map((function(e,n){return o.a.createElement(B,Object.assign({key:n},e))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.e78efe7e.chunk.js.map